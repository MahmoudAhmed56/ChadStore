let addedItems,cartBody=document.querySelector(".cart-body"),productsInCartLocalStorageString=localStorage.getItem("productsInCart"),productsInCartLocalStorageJson=JSON.parse(productsInCartLocalStorageString),itemNumber=document.querySelectorAll(".item-number-cart"),cartNumber=document.querySelector(".cart-head span"),cartTotal=document.querySelector(".iscart .cart-total"),itemNumberFavorite=document.querySelectorAll(".item-number-favorite"),subTotal=document.querySelector(".subtotal p strong"),input=document.getElementById("value"),noProductsDomCartMenu=document.querySelector(".mini-cart .no-products"),favoriteItem=localStorage.getItem("productsFavorite")?JSON.parse(localStorage.getItem("productsFavorite")):[];function plural(t){let e=0;for(let a=0;a<t.length;a++)e+=t[a];return e}let addedItem=productsInCartLocalStorageString?productsInCartLocalStorageJson:[];function removeFromCart(t){addedItem&&(addedItem=addedItem.filter(e=>e.id!==t),(addedItems=function(t){t&&(cartBody.innerHTML="",t.map(t=>{cartBody.innerHTML+=`\n          <ul class="products mini">\n          <li class="item">\n          <div class="thumbnail object-cover">\n          <a onclick="saveItemData(${t.id})"><img src="${t.imgUrl}" alt="${t.title}"></a>\n              </div>\n              <div class="item-content">\n                <p><a onclick="saveItemData(${t.id})">${t.title}</a></p>\n                <span class="price">\n                  <span>$${t.price}</span>\n                  <span class="fly-item"><span>${t.qty}x</span></span>\n                </span>\n              </div>\n              <a onclick="removeFromCart(${t.id})" class="item-remove"><i class="ri-close-line"></i></a>\n            </li>\n          </ul>`}));for(let e=0;e<itemNumber.length;e++)itemNumber[e].innerHTML=t.length;0===t.length?noProductsDomCartMenu.classList.add("show"):noProductsDomCartMenu.classList.remove("show"),cartNumber.innerHTML=t.length;let e=[];t.map(t=>e.push(t.price)),subTotal.innerHTML="$"+Math.round(plural(e)),cartTotal.innerHTML="$"+Math.round(plural(e))})(addedItem),localStorage.setItem("productsInCart",JSON.stringify(addedItem)))}function saveItemData(t){localStorage.setItem("productId",t),window.location="./page-single.html"}(addedItems=function(t){t&&t.forEach(t=>{cartBody.innerHTML+=`\n      <ul class="products mini">\n        <li class="item">\n          <div class="thumbnail object-cover">\n            <a onclick="saveItemData(${t.id})"><img src="${t.imgUrl}" alt="${t.title}"></a>\n          </div>\n          <div class="item-content">\n            <p><a onclick="saveItemData(${t.id})">${t.title}</a></p>\n            <span class="price">\n              <span>$${t.price}</span>\n              <span class="fly-item"><span>${t.qty}x</span></span>\n            </span>\n          </div>\n          <a onclick="removeFromCart(${t.id})" class="item-remove"><i class="ri-close-line"></i></a>\n        </li>\n      </ul>`});for(let e=0;e<itemNumber.length;e++)itemNumber[e].innerHTML=t.length;0===t.length?noProductsDomCartMenu.classList.add("show"):noProductsDomCartMenu.classList.remove("show");for(let t=0;t<itemNumberFavorite.length;t++)itemNumberFavorite[t].innerHTML=favoriteItem.length;cartNumber.innerHTML=t.length;let e=[];t.map(t=>e.push(t.price)),subTotal.innerHTML="$"+Math.round(plural(e)),cartTotal.innerHTML="$"+Math.round(plural(e))})(addedItem);